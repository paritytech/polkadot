<!DOCTYPE html><html lang="en"><head><link rel="canonical" href="https://paritytech.github.io/polkadot-sdk/master/polkadot_node_subsystem/gen/index.html"><meta http-equiv="refresh" content="0;URL='https://paritytech.github.io/polkadot-sdk/master/polkadot_node_subsystem/gen/index.html'"><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Orchestra"><title>polkadot_node_subsystem::gen - Rust</title><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Regular-46f98efaafac5295.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Regular-018c141bf0843ffd.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/FiraSans-Medium-8f9a781e4970d388.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceSerif4-Bold-a2c9cd1067f8b328.ttf.woff2"><link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2"><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-ba5701c5741a7b69.css" id="mainThemeStyle"><div id="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="polkadot_node_subsystem" data-themes="" data-resource-suffix="" data-rustdoc-version="1.70.0 (90c541806 2023-05-31)" data-search-js="search-e077946657036a58.js" data-settings-js="settings-298e1ea74db45b39.js" data-settings-css="settings-7bfb4c59cc6bc502.css" data-theme-light-css="light-0f8c037637f9eb3e.css" data-theme-dark-css="dark-1097f8e92a01e3cf.css" data-theme-ayu-css="ayu-614652228113ac93.css" ></div><script src="../../static.files/storage-62ce34ea385b278a.js"></script><script defer src="../../crates.js"></script><script defer src="../../static.files/main-f61008743c98d196.js"></script><noscript><link rel="stylesheet" media="(prefers-color-scheme:light)" href="../../static.files/light-0f8c037637f9eb3e.css"><link rel="stylesheet" media="(prefers-color-scheme:dark)" href="../../static.files/dark-1097f8e92a01e3cf.css"><link rel="stylesheet" href="../../static.files/noscript-13285aec31fa243e.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-16x16-8b506e7a72182f1c.png"><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle">&#9776;</button><a class="logo-container" href="../../polkadot_node_subsystem/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2></h2></nav><nav class="sidebar"><a class="logo-container" href="../../polkadot_node_subsystem/index.html"><img class="rust-logo" src="../../static.files/rust-logo-151179464ae7ed46.svg" alt="logo"></a><h2 class="location"><a href="#">Crate gen</a></h2><div class="sidebar-elems"><ul class="block"><li class="version">Version 0.9.43</li><li><a id="all-types" href="all.html">All Items</a></li></ul><section><ul class="block"><li><a href="#modules">Modules</a></li><li><a href="#macros">Macros</a></li><li><a href="#structs">Structs</a></li><li><a href="#enums">Enums</a></li><li><a href="#traits">Traits</a></li><li><a href="#functions">Functions</a></li><li><a href="#types">Type Definitions</a></li><li><a href="#attributes">Attribute Macros</a></li></ul></section></div></nav><main><div class="width-limiter"><nav class="sub"><form class="search-form"><span></span><input class="search-input" name="search" aria-label="Run search in the documentation" autocomplete="off" spellcheck="false" placeholder="Click or press ‘S’ to search, ‘?’ for more options…" type="search"><div id="help-button" title="help" tabindex="-1"><a href="../../help.html">?</a></div><div id="settings-menu" tabindex="-1"><a href="../../settings.html" title="settings"><img width="22" height="22" alt="Change settings" src="../../static.files/wheel-7b819b6101059cd0.svg"></a></div></form></nav><section id="main-content" class="content"><div class="main-heading"><h1>Crate <a href="../index.html">polkadot_node_subsystem</a>::<wbr><a class="mod" href="#">gen</a><button id="copy-path" title="Copy item path to clipboard"><img src="../../static.files/clipboard-7571035ce49a181d.svg" width="19" height="18" alt="Copy item path"></button></h1><span class="out-of-band"><button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="orchestra"><a href="#orchestra">Orchestra</a></h2>
<p><code>orchestra</code> provides a global information flow of what a token of information.
The token is arbitrary, but is used to notify all <code>Subsystem</code>s of what is relevant
and what is not.</p>
<p>For the motivations behind implementing the orchestra itself you should
check out that guide, documentation in this crate will focus and be of
technical nature.</p>
<p>An <code>Orchestra</code> is something that allows spawning/stopping and orchestrating
asynchronous tasks as well as establishing a well-defined and easy to use
protocol that the tasks can use to communicate with each other. It is desired
that this protocol is the only way tasks communicate with each other, however
at this moment there are no foolproof guards against other ways of communication.</p>
<p>The <code>Orchestra</code> is instantiated with a pre-defined set of <code>Subsystems</code> that
share the same behavior from <code>Orchestra</code>’s point of view.</p>
<div class="example-wrap"><pre class="language-text"><code>                             +-----------------------------+
                             |         Orchesta            |
                             +-----------------------------+

            ................|  Orchestra &quot;holds&quot; these and uses |.............
            .                  them to (re)start things                      .
            .                                                                .
            .  +-------------------+                +---------------------+  .
            .  |   Subsystem1      |                |   Subsystem2        |  .
            .  +-------------------+                +---------------------+  .
            .           |                                       |            .
            ..................................................................
                        |                                       |
                      start()                                 start()
                        V                                       V
            ..................| Orchestra &quot;runs&quot; these |.......................
            .  +--------------------+               +---------------------+  .
            .  | SubsystemInstance1 | &lt;-- bidir --&gt; | SubsystemInstance2  |  .
            .  +--------------------+               +---------------------+  .
            ..................................................................
</code></pre></div></div></details><h2 id="modules" class="small-section-header"><a href="#modules">Modules</a></h2><ul class="item-table"><li><div class="item-name"><a class="mod" href="futures/index.html" title="mod polkadot_node_subsystem::gen::futures">futures</a></div><div class="desc docblock-short">Abstractions for asynchronous programming.</div></li><li><div class="item-name"><a class="mod" href="metered/index.html" title="mod polkadot_node_subsystem::gen::metered">metered</a></div><div class="desc docblock-short">Metered variant of mpsc channels to be able to extract metrics.</div></li><li><div class="item-name"><a class="mod" href="tracing/index.html" title="mod polkadot_node_subsystem::gen::tracing">tracing</a></div><div class="desc docblock-short">A scoped, structured logging and diagnostics system.</div></li></ul><h2 id="macros" class="small-section-header"><a href="#macros">Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="macro" href="macro.poll.html" title="macro polkadot_node_subsystem::gen::poll">poll</a></div><div class="desc docblock-short">A macro which returns the result of polling a future once within the
current <code>async</code> context.</div></li><li><div class="item-name"><a class="macro" href="macro.select.html" title="macro polkadot_node_subsystem::gen::select">select</a></div><div class="desc docblock-short">Polls multiple futures and streams simultaneously, executing the branch
for the future that finishes first. If multiple futures are ready,
one will be pseudo-randomly selected at runtime. Futures directly
passed to <code>select!</code> must be <code>Unpin</code> and implement <code>FusedFuture</code>.</div></li></ul><h2 id="structs" class="small-section-header"><a href="#structs">Structs</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.Context.html" title="struct polkadot_node_subsystem::gen::Context">Context</a></div><div class="desc docblock-short">The context of an asynchronous task.</div></li><li><div class="item-name"><a class="struct" href="struct.Delay.html" title="struct polkadot_node_subsystem::gen::Delay">Delay</a></div><div class="desc docblock-short">A future representing the notification that an elapsed duration has
occurred.</div></li><li><div class="item-name"><a class="struct" href="struct.Duration.html" title="struct polkadot_node_subsystem::gen::Duration">Duration</a></div><div class="desc docblock-short">A <code>Duration</code> type to represent a span of time, typically used for system
timeouts.</div></li><li><div class="item-name"><a class="struct" href="struct.Fuse.html" title="struct polkadot_node_subsystem::gen::Fuse">Fuse</a></div><div class="desc docblock-short">Future for the <a href="trait.FutureExt.html#method.fuse" title="method polkadot_node_subsystem::gen::FutureExt::fuse"><code>fuse</code></a> method.</div></li><li><div class="item-name"><a class="struct" href="struct.FuturesUnordered.html" title="struct polkadot_node_subsystem::gen::FuturesUnordered">FuturesUnordered</a></div><div class="desc docblock-short">A set of futures which may complete in any order.</div></li><li><div class="item-name"><a class="struct" href="struct.MessagePacket.html" title="struct polkadot_node_subsystem::gen::MessagePacket">MessagePacket</a></div><div class="desc docblock-short">A wrapping type for messages.</div></li><li><div class="item-name"><a class="struct" href="struct.Pin.html" title="struct polkadot_node_subsystem::gen::Pin">Pin</a></div><div class="desc docblock-short">A pinned pointer.</div></li><li><div class="item-name"><a class="struct" href="struct.SignalsReceived.html" title="struct polkadot_node_subsystem::gen::SignalsReceived">SignalsReceived</a></div><div class="desc docblock-short">Watermark to track the received signals.</div></li><li><div class="item-name"><a class="struct" href="struct.SpawnedSubsystem.html" title="struct polkadot_node_subsystem::gen::SpawnedSubsystem">SpawnedSubsystem</a></div><div class="desc docblock-short">An asynchronous subsystem task..</div></li><li><div class="item-name"><a class="struct" href="struct.SubsystemInstance.html" title="struct polkadot_node_subsystem::gen::SubsystemInstance">SubsystemInstance</a></div><div class="desc docblock-short">A running instance of some <a href="trait.Subsystem.html"><code>Subsystem</code></a>.</div></li><li><div class="item-name"><a class="struct" href="struct.SubsystemMeterReadouts.html" title="struct polkadot_node_subsystem::gen::SubsystemMeterReadouts">SubsystemMeterReadouts</a></div><div class="desc docblock-short">Set of readouts of the <code>Meter</code>s of a subsystem.</div></li><li><div class="item-name"><a class="struct" href="struct.SubsystemMeters.html" title="struct polkadot_node_subsystem::gen::SubsystemMeters">SubsystemMeters</a></div><div class="desc docblock-short">Collection of meters related to a subsystem.</div></li><li><div class="item-name"><a class="struct" href="struct.Timeout.html" title="struct polkadot_node_subsystem::gen::Timeout">Timeout</a></div><div class="desc docblock-short">A future that wraps another future with a <code>Delay</code> allowing for time-limited futures.</div></li></ul><h2 id="enums" class="small-section-header"><a href="#enums">Enums</a></h2><ul class="item-table"><li><div class="item-name"><a class="enum" href="enum.FromOrchestra.html" title="enum polkadot_node_subsystem::gen::FromOrchestra">FromOrchestra</a></div><div class="desc docblock-short">A message type that a subsystem receives from an orchestra.
It wraps signals from an orchestra and messages that are circulating
between subsystems.</div></li><li><div class="item-name"><a class="enum" href="enum.OrchestraError.html" title="enum polkadot_node_subsystem::gen::OrchestraError">OrchestraError</a></div><div class="desc docblock-short">An error type that describes faults that may happen</div></li><li><div class="item-name"><a class="enum" href="enum.Poll.html" title="enum polkadot_node_subsystem::gen::Poll">Poll</a></div><div class="desc docblock-short">Indicates whether a value is available or if the current task has been
scheduled to receive a wakeup instead.</div></li><li><div class="item-name"><a class="enum" href="enum.PollNext.html" title="enum polkadot_node_subsystem::gen::PollNext">PollNext</a></div><div class="desc docblock-short">Type to tell <a href="futures/prelude/stream/struct.SelectWithStrategy.html" title="struct polkadot_node_subsystem::gen::futures::prelude::stream::SelectWithStrategy"><code>SelectWithStrategy</code></a> which stream to poll next.</div></li><li><div class="item-name"><a class="enum" href="enum.ToOrchestra.html" title="enum polkadot_node_subsystem::gen::ToOrchestra">ToOrchestra</a></div><div class="desc docblock-short">A type of messages that are sent from a <a href="../trait.Subsystem.html" title="trait polkadot_node_subsystem::Subsystem"><code>Subsystem</code></a> to the declared orchestra.</div></li></ul><h2 id="traits" class="small-section-header"><a href="#traits">Traits</a></h2><ul class="item-table"><li><div class="item-name"><a class="trait" href="trait.AnnotateErrorOrigin.html" title="trait polkadot_node_subsystem::gen::AnnotateErrorOrigin">AnnotateErrorOrigin</a></div><div class="desc docblock-short">A trait to support the origin annotation
such that errors across subsystems can be easier tracked.</div></li><li><div class="item-name"><a class="trait" href="trait.Future.html" title="trait polkadot_node_subsystem::gen::Future">Future</a></div><div class="desc docblock-short">A future represents an asynchronous computation obtained by use of <a href="../../std/keyword.async.html"><code>async</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.FutureExt.html" title="trait polkadot_node_subsystem::gen::FutureExt">FutureExt</a></div><div class="desc docblock-short">An extension trait for <code>Future</code>s that provides a variety of convenient
adapters.</div></li><li><div class="item-name"><a class="trait" href="trait.MapSubsystem.html" title="trait polkadot_node_subsystem::gen::MapSubsystem">MapSubsystem</a></div><div class="desc docblock-short">A helper trait to map a subsystem to smth. else.</div></li><li><div class="item-name"><a class="trait" href="trait.Spawner.html" title="trait polkadot_node_subsystem::gen::Spawner">Spawner</a></div><div class="desc docblock-short">A spawner</div></li><li><div class="item-name"><a class="trait" href="trait.StreamExt.html" title="trait polkadot_node_subsystem::gen::StreamExt">StreamExt</a></div><div class="desc docblock-short">An extension trait for <code>Stream</code>s that provides a variety of convenient
combinator functions.</div></li><li><div class="item-name"><a class="trait" href="trait.Subsystem.html" title="trait polkadot_node_subsystem::gen::Subsystem">Subsystem</a></div><div class="desc docblock-short">A trait that describes the <a href="trait.Subsystem.html"><code>Subsystem</code></a>s that can run on the <a href="struct.Orchestra.html"><code>Orchestra</code></a>.</div></li><li><div class="item-name"><a class="trait" href="trait.SubsystemContext.html" title="trait polkadot_node_subsystem::gen::SubsystemContext">SubsystemContext</a></div><div class="desc docblock-short">A context type that is given to the <a href="../trait.Subsystem.html" title="trait polkadot_node_subsystem::Subsystem"><code>Subsystem</code></a> upon spawning.
It can be used by <a href="../trait.Subsystem.html" title="trait polkadot_node_subsystem::Subsystem"><code>Subsystem</code></a> to communicate with other <a href="../trait.Subsystem.html" title="trait polkadot_node_subsystem::Subsystem"><code>Subsystem</code></a>s
or spawn jobs.</div></li><li><div class="item-name"><a class="trait" href="trait.SubsystemSender.html" title="trait polkadot_node_subsystem::gen::SubsystemSender">SubsystemSender</a></div><div class="desc docblock-short">Sender end of a channel to interface with a subsystem.</div></li><li><div class="item-name"><a class="trait" href="trait.TimeoutExt.html" title="trait polkadot_node_subsystem::gen::TimeoutExt">TimeoutExt</a></div><div class="desc docblock-short">Extends <code>Future</code> to allow time-limited futures.</div></li></ul><h2 id="functions" class="small-section-header"><a href="#functions">Functions</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.make_packet.html" title="fn polkadot_node_subsystem::gen::make_packet">make_packet</a></div><div class="desc docblock-short">Create a packet from its parts.</div></li><li><div class="item-name"><a class="fn" href="fn.select.html" title="fn polkadot_node_subsystem::gen::select">select</a></div><div class="desc docblock-short">This function will attempt to pull items from both streams. Each
stream will be polled in a round-robin fashion, and whenever a stream is
ready to yield an item that item is yielded.</div></li><li><div class="item-name"><a class="fn" href="fn.select_message_channel_strategy.html" title="fn polkadot_node_subsystem::gen::select_message_channel_strategy">select_message_channel_strategy</a></div><div class="desc docblock-short">A functor to specify strategy of the channels selection in the <code>SubsystemIncomingMessages</code></div></li><li><div class="item-name"><a class="fn" href="fn.select_with_strategy.html" title="fn polkadot_node_subsystem::gen::select_with_strategy">select_with_strategy</a></div><div class="desc docblock-short">This function will attempt to pull items from both streams. You provide a
closure to tell <a href="futures/prelude/stream/struct.SelectWithStrategy.html" title="struct polkadot_node_subsystem::gen::futures::prelude::stream::SelectWithStrategy"><code>SelectWithStrategy</code></a> which stream to poll. The closure can
store state on <code>SelectWithStrategy</code> to which it will receive a <code>&amp;mut</code> on every
invocation. This allows basing the strategy on prior choices.</div></li></ul><h2 id="types" class="small-section-header"><a href="#types">Type Definitions</a></h2><ul class="item-table"><li><div class="item-name"><a class="type" href="type.BoxFuture.html" title="type polkadot_node_subsystem::gen::BoxFuture">BoxFuture</a></div><div class="desc docblock-short">An owned dynamically typed <a href="trait.Future.html" title="trait polkadot_node_subsystem::gen::Future"><code>Future</code></a> for use in cases where you can’t
statically type your result or need to add some indirection.</div></li><li><div class="item-name"><a class="type" href="type.OrchestraResult.html" title="type polkadot_node_subsystem::gen::OrchestraResult">OrchestraResult</a></div><div class="desc docblock-short">Alias for a result with error type <code>OrchestraError</code>.</div></li><li><div class="item-name"><a class="type" href="type.SubsystemIncomingMessages.html" title="type polkadot_node_subsystem::gen::SubsystemIncomingMessages">SubsystemIncomingMessages</a></div><div class="desc docblock-short">Incoming messages from both the bounded and unbounded channel.</div></li></ul><h2 id="attributes" class="small-section-header"><a href="#attributes">Attribute Macros</a></h2><ul class="item-table"><li><div class="item-name"><a class="attr" href="attr.async_trait.html" title="attr polkadot_node_subsystem::gen::async_trait">async_trait</a></div></li><li><div class="item-name"><a class="attr" href="attr.contextbounds.html" title="attr polkadot_node_subsystem::gen::contextbounds">contextbounds</a></div></li><li><div class="item-name"><a class="attr" href="attr.orchestra.html" title="attr polkadot_node_subsystem::gen::orchestra">orchestra</a></div></li><li><div class="item-name"><a class="attr" href="attr.subsystem.html" title="attr polkadot_node_subsystem::gen::subsystem">subsystem</a></div></li></ul></section></div></main></body></html>