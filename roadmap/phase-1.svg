<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"
 "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!-- Generated by graphviz version 2.42.3 (20191010.1750)
 -->
<!-- Title: g Pages: 1 -->
<svg width="2474pt" height="358pt"
 viewBox="0.00 0.00 2474.00 358.00" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
<g id="graph0" class="graph" transform="scale(1 1) rotate(0) translate(4 354)">
<title>g</title>
<polygon fill="white" stroke="transparent" points="-4,4 -4,-354 2470,-354 2470,4 -4,4"/>
<!-- phase&#45;0 -->
<g id="node1" class="node">
<title>phase&#45;0</title>
<polygon fill="darkgoldenrod" stroke="transparent" points="3,-226 3,-248 101,-248 101,-226 3,-226"/>
<polygon fill="none" stroke="black" points="3,-226 3,-248 101,-248 101,-226 3,-226"/>
<text text-anchor="start" x="5.77" y="-232.2" font-family="Times,serif" font-size="16.00">Phase 0: MVP</text>
<polygon fill="none" stroke="black" points="0,-223 0,-251 104,-251 104,-223 0,-223"/>
</g>
<!-- two&#45;phase&#45;inclusion -->
<g id="node2" class="node">
<title>two&#45;phase&#45;inclusion</title>
<polygon fill="darkgoldenrod" stroke="transparent" points="143.5,-226 143.5,-248 590.5,-248 590.5,-226 143.5,-226"/>
<polygon fill="none" stroke="black" points="143.5,-226 143.5,-248 590.5,-248 590.5,-226 143.5,-226"/>
<text text-anchor="start" x="223.17" y="-232.2" font-family="Times,serif" font-size="16.00">Two&#45;phase inclusion of parachain candidates</text>
<polygon fill="cornsilk" stroke="transparent" points="143.5,-192 143.5,-224 170.5,-224 170.5,-192 143.5,-192"/>
<polygon fill="none" stroke="black" points="143.5,-192 143.5,-224 170.5,-224 170.5,-192 143.5,-192"/>
<text text-anchor="start" x="146.5" y="-208.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="172.5,-192 172.5,-224 590.5,-224 590.5,-192 172.5,-192"/>
<polygon fill="none" stroke="black" points="172.5,-192 172.5,-224 590.5,-224 590.5,-192 172.5,-192"/>
<text text-anchor="start" x="175.28" y="-203.2" font-family="Times,serif" font-size="16.00">Buffer submitted parachain candidate until considered available.</text>
<polygon fill="cornsilk" stroke="transparent" points="143.5,-158 143.5,-190 170.5,-190 170.5,-158 143.5,-158"/>
<polygon fill="none" stroke="black" points="143.5,-158 143.5,-190 170.5,-190 170.5,-158 143.5,-158"/>
<text text-anchor="start" x="146.5" y="-174.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="172.5,-158 172.5,-190 590.5,-190 590.5,-158 172.5,-158"/>
<polygon fill="none" stroke="black" points="172.5,-158 172.5,-190 590.5,-190 590.5,-158 172.5,-158"/>
<text text-anchor="start" x="181.32" y="-169.2" font-family="Times,serif" font-size="16.00">Validators submit signed bitfields re: availability of parachains</text>
<polygon fill="cornsilk" stroke="transparent" points="143.5,-124 143.5,-156 170.5,-156 170.5,-124 143.5,-124"/>
<polygon fill="none" stroke="black" points="143.5,-124 143.5,-156 170.5,-156 170.5,-124 143.5,-124"/>
<text text-anchor="start" x="146.5" y="-140.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="172.5,-124 172.5,-156 590.5,-156 590.5,-124 172.5,-124"/>
<polygon fill="none" stroke="black" points="172.5,-124 172.5,-156 590.5,-156 590.5,-124 172.5,-124"/>
<text text-anchor="start" x="183.14" y="-135.2" font-family="Times,serif" font-size="16.00">relay chain fully includes candidate once considered available</text>
<polygon fill="none" stroke="black" points="140,-121 140,-251 593,-251 593,-121 140,-121"/>
</g>
<!-- phase&#45;0&#45;&gt;two&#45;phase&#45;inclusion -->
<g id="edge1" class="edge">
<title>phase&#45;0:all&#45;&gt;two&#45;phase&#45;inclusion:all</title>
<path fill="none" stroke="black" d="M101.31,-237C111.32,-237 121.97,-237 132.3,-237"/>
<polygon fill="black" stroke="black" points="132.5,-240.5 142.5,-237 132.5,-233.5 132.5,-240.5"/>
</g>
<!-- secondary&#45;checking -->
<g id="node3" class="node">
<title>secondary&#45;checking</title>
<polygon fill="darkgoldenrod" stroke="transparent" points="632,-205 632,-227 1120,-227 1120,-205 632,-205"/>
<polygon fill="none" stroke="black" points="632,-205 632,-227 1120,-227 1120,-205 632,-205"/>
<text text-anchor="start" x="716.72" y="-211.2" font-family="Times,serif" font-size="16.00">Secondary checks and self&#45;selection by validators</text>
<polygon fill="cornsilk" stroke="transparent" points="632,-171 632,-203 659,-203 659,-171 632,-171"/>
<polygon fill="none" stroke="black" points="632,-171 632,-203 659,-203 659,-171 632,-171"/>
<text text-anchor="start" x="635" y="-187.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="661,-171 661,-203 1120,-203 1120,-171 661,-171"/>
<polygon fill="none" stroke="black" points="661,-171 661,-203 1120,-203 1120,-171 661,-171"/>
<text text-anchor="start" x="744.12" y="-182.2" font-family="Times,serif" font-size="16.00">Extract #VCheck for all checkable candidates</text>
<polygon fill="cornsilk" stroke="transparent" points="632,-137 632,-169 659,-169 659,-137 632,-137"/>
<polygon fill="none" stroke="black" points="632,-137 632,-169 659,-169 659,-137 632,-137"/>
<text text-anchor="start" x="635" y="-153.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="661,-137 661,-169 1120,-169 1120,-137 661,-137"/>
<polygon fill="none" stroke="black" points="661,-137 661,-169 1120,-169 1120,-137 661,-137"/>
<text text-anchor="start" x="676.58" y="-148.2" font-family="Times,serif" font-size="16.00">Maintain a frontier of candidates that are likely to be checked soon</text>
<polygon fill="cornsilk" stroke="transparent" points="632,-103 632,-135 659,-135 659,-103 632,-103"/>
<polygon fill="none" stroke="black" points="632,-103 632,-135 659,-135 659,-103 632,-103"/>
<text text-anchor="start" x="635" y="-119.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="661,-103 661,-135 1120,-135 1120,-103 661,-103"/>
<polygon fill="none" stroke="black" points="661,-103 661,-135 1120,-135 1120,-103 661,-103"/>
<text text-anchor="start" x="663.69" y="-114.2" font-family="Times,serif" font-size="16.00">Listen for new reports on candidates and new checks to update frontier</text>
<polygon fill="none" stroke="black" points="629,-100 629,-230 1123,-230 1123,-100 629,-100"/>
</g>
<!-- two&#45;phase&#45;inclusion&#45;&gt;secondary&#45;checking -->
<g id="edge2" class="edge">
<title>two&#45;phase&#45;inclusion:all&#45;&gt;secondary&#45;checking:all</title>
<path fill="none" stroke="black" d="M591.5,-237C607.34,-237 610.39,-223.66 621.04,-218.25"/>
<polygon fill="black" stroke="black" points="622.02,-221.62 631,-216 620.47,-214.79 622.02,-221.62"/>
</g>
<!-- runtime&#45;availability&#45;validity&#45;slashing -->
<g id="node4" class="node">
<title>runtime&#45;availability&#45;validity&#45;slashing</title>
<polygon fill="darkgoldenrod" stroke="transparent" points="1162,-253 1162,-275 1624,-275 1624,-253 1162,-253"/>
<polygon fill="none" stroke="black" points="1162,-253 1162,-275 1624,-275 1624,-253 1162,-253"/>
<text text-anchor="start" x="1239.53" y="-259.2" font-family="Times,serif" font-size="16.00">Availability and Validity slashing in the runtime</text>
<polygon fill="cornsilk" stroke="transparent" points="1162,-219 1162,-251 1189,-251 1189,-219 1162,-219"/>
<polygon fill="none" stroke="black" points="1162,-219 1162,-251 1189,-251 1189,-219 1162,-219"/>
<text text-anchor="start" x="1165" y="-235.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1191,-219 1191,-251 1624,-251 1624,-219 1191,-219"/>
<polygon fill="none" stroke="black" points="1191,-219 1191,-251 1624,-251 1624,-219 1191,-219"/>
<text text-anchor="start" x="1193.84" y="-230.2" font-family="Times,serif" font-size="16.00">Track all candidates within the slash period as well as their session</text>
<polygon fill="cornsilk" stroke="transparent" points="1162,-185 1162,-217 1189,-217 1189,-185 1162,-185"/>
<polygon fill="none" stroke="black" points="1162,-185 1162,-217 1189,-217 1189,-185 1162,-185"/>
<text text-anchor="start" x="1165" y="-201.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1191,-185 1191,-217 1624,-217 1624,-185 1191,-185"/>
<polygon fill="none" stroke="black" points="1191,-185 1191,-217 1624,-217 1624,-185 1191,-185"/>
<text text-anchor="start" x="1291.08" y="-196.2" font-family="Times,serif" font-size="16.00">Submit secondary checks to runtime</text>
<polygon fill="cornsilk" stroke="transparent" points="1162,-151 1162,-183 1189,-183 1189,-151 1162,-151"/>
<polygon fill="none" stroke="black" points="1162,-151 1162,-183 1189,-183 1189,-151 1162,-151"/>
<text text-anchor="start" x="1165" y="-167.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1191,-151 1191,-183 1624,-183 1624,-151 1191,-151"/>
<polygon fill="none" stroke="black" points="1191,-151 1191,-183 1624,-183 1624,-151 1191,-151"/>
<text text-anchor="start" x="1260.5" y="-162.2" font-family="Times,serif" font-size="16.00">Track reports and attestatations for candidates</text>
<polygon fill="none" stroke="black" points="1159,-148 1159,-278 1627,-278 1627,-148 1159,-148"/>
</g>
<!-- two&#45;phase&#45;inclusion&#45;&gt;runtime&#45;availability&#45;validity&#45;slashing -->
<g id="edge3" class="edge">
<title>two&#45;phase&#45;inclusion:all&#45;&gt;runtime&#45;availability&#45;validity&#45;slashing:all</title>
<path fill="none" stroke="black" d="M591.5,-237C608.19,-237 612.33,-238.16 629,-239 861.95,-250.69 922.53,-263.62 1150.71,-263.99"/>
<polygon fill="black" stroke="black" points="1151,-267.49 1161,-264 1151,-260.49 1151,-267.49"/>
</g>
<!-- secondary&#45;checking&#45;&gt;runtime&#45;availability&#45;validity&#45;slashing -->
<g id="edge4" class="edge">
<title>secondary&#45;checking:all&#45;&gt;runtime&#45;availability&#45;validity&#45;slashing:submitsecondary</title>
<path fill="none" stroke="black" d="M1121,-216C1130.07,-216 1139.31,-215.98 1148.65,-215.95"/>
<polygon fill="black" stroke="black" points="1148.82,-219.45 1158.81,-215.91 1148.79,-212.45 1148.82,-219.45"/>
</g>
<!-- grandpa&#45;voting&#45;rule -->
<g id="node6" class="node">
<title>grandpa&#45;voting&#45;rule</title>
<polygon fill="darkgoldenrod" stroke="transparent" points="1697.5,-325 1697.5,-347 2170.5,-347 2170.5,-325 1697.5,-325"/>
<polygon fill="none" stroke="black" points="1697.5,-325 1697.5,-347 2170.5,-347 2170.5,-325 1697.5,-325"/>
<text text-anchor="start" x="1756.98" y="-331.2" font-family="Times,serif" font-size="16.00">GRANDPA voting rule to follow valid/available chains</text>
<polygon fill="cornsilk" stroke="transparent" points="1697.5,-291 1697.5,-323 1724.5,-323 1724.5,-291 1697.5,-291"/>
<polygon fill="none" stroke="black" points="1697.5,-291 1697.5,-323 1724.5,-323 1724.5,-291 1697.5,-291"/>
<text text-anchor="start" x="1700.5" y="-307.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1726.5,-291 1726.5,-323 2170.5,-323 2170.5,-291 1726.5,-291"/>
<polygon fill="none" stroke="black" points="1726.5,-291 1726.5,-323 2170.5,-323 2170.5,-291 1726.5,-291"/>
<text text-anchor="start" x="1741.66" y="-302.2" font-family="Times,serif" font-size="16.00">Add a utility to flag a block and all of its ancestors as abandoned</text>
<polygon fill="cornsilk" stroke="transparent" points="1697.5,-257 1697.5,-289 1724.5,-289 1724.5,-257 1697.5,-257"/>
<polygon fill="none" stroke="black" points="1697.5,-257 1697.5,-289 1724.5,-289 1724.5,-257 1697.5,-257"/>
<text text-anchor="start" x="1700.5" y="-273.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1726.5,-257 1726.5,-289 2170.5,-289 2170.5,-257 1726.5,-257"/>
<polygon fill="none" stroke="black" points="1726.5,-257 1726.5,-289 2170.5,-289 2170.5,-257 1726.5,-257"/>
<text text-anchor="start" x="1729.23" y="-268.2" font-family="Times,serif" font-size="16.00">Accept new blocks on abandoned but mark them abandoned as well.</text>
<polygon fill="cornsilk" stroke="transparent" points="1697.5,-223 1697.5,-255 1724.5,-255 1724.5,-223 1697.5,-223"/>
<polygon fill="none" stroke="black" points="1697.5,-223 1697.5,-255 1724.5,-255 1724.5,-223 1697.5,-223"/>
<text text-anchor="start" x="1700.5" y="-239.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1726.5,-223 1726.5,-255 2170.5,-255 2170.5,-223 1726.5,-223"/>
<polygon fill="none" stroke="black" points="1726.5,-223 1726.5,-255 2170.5,-255 2170.5,-223 1726.5,-223"/>
<text text-anchor="start" x="1814.53" y="-234.2" font-family="Times,serif" font-size="16.00">Do not vote or build on abandoned chains</text>
<polygon fill="none" stroke="black" points="1694,-220 1694,-350 2173,-350 2173,-220 1694,-220"/>
</g>
<!-- runtime&#45;availability&#45;validity&#45;slashing&#45;&gt;grandpa&#45;voting&#45;rule -->
<g id="edge5" class="edge">
<title>runtime&#45;availability&#45;validity&#45;slashing:all&#45;&gt;grandpa&#45;voting&#45;rule:all</title>
<path fill="none" stroke="black" d="M1625,-264C1666.22,-264 1654.14,-324.16 1686.21,-334.5"/>
<polygon fill="black" stroke="black" points="1686.1,-338.02 1696.5,-336 1687.11,-331.09 1686.1,-338.02"/>
</g>
<!-- phase&#45;1 -->
<g id="node7" class="node">
<title>phase&#45;1</title>
<polygon fill="darkgoldenrod" stroke="transparent" points="2243,-181 2243,-203 2463,-203 2463,-181 2243,-181"/>
<polygon fill="none" stroke="black" points="2243,-181 2243,-203 2463,-203 2463,-181 2243,-181"/>
<text text-anchor="start" x="2246.18" y="-187.2" font-family="Times,serif" font-size="16.00">Phase 1: Availability and Validity</text>
<polygon fill="none" stroke="black" points="2240,-178 2240,-206 2466,-206 2466,-178 2240,-178"/>
</g>
<!-- runtime&#45;availability&#45;validity&#45;slashing&#45;&gt;phase&#45;1 -->
<g id="edge8" class="edge">
<title>runtime&#45;availability&#45;validity&#45;slashing:all&#45;&gt;phase&#45;1:all</title>
<path fill="none" stroke="black" d="M1625,-264C1653.98,-264 1637.4,-224.59 1663,-211 1758.46,-160.31 2062.3,-171.7 2232.88,-182.79"/>
<polygon fill="black" stroke="black" points="2232.7,-186.29 2242.91,-183.46 2233.17,-179.31 2232.7,-186.29"/>
</g>
<!-- non&#45;direct&#45;ancestor -->
<g id="node5" class="node">
<title>non&#45;direct&#45;ancestor</title>
<polygon fill="darkgoldenrod" stroke="transparent" points="1666.5,-139 1666.5,-161 2201.5,-161 2201.5,-139 1666.5,-139"/>
<polygon fill="none" stroke="black" points="1666.5,-139 1666.5,-161 2201.5,-161 2201.5,-139 1666.5,-139"/>
<text text-anchor="start" x="1798.49" y="-145.2" font-family="Times,serif" font-size="16.00">Allow candidates with non&#45;direct ancestor</text>
<polygon fill="cornsilk" stroke="transparent" points="1666.5,-105 1666.5,-137 1693.5,-137 1693.5,-105 1666.5,-105"/>
<polygon fill="none" stroke="black" points="1666.5,-105 1666.5,-137 1693.5,-137 1693.5,-105 1666.5,-105"/>
<text text-anchor="start" x="1669.5" y="-121.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1695.5,-105 1695.5,-137 2201.5,-137 2201.5,-105 1695.5,-105"/>
<polygon fill="none" stroke="black" points="1695.5,-105 1695.5,-137 2201.5,-137 2201.5,-105 1695.5,-105"/>
<text text-anchor="start" x="1736.77" y="-116.2" font-family="Times,serif" font-size="16.00">Extend GlobalValidationData with random seed and session index</text>
<polygon fill="cornsilk" stroke="transparent" points="1666.5,-71 1666.5,-103 1693.5,-103 1693.5,-71 1666.5,-71"/>
<polygon fill="none" stroke="black" points="1666.5,-71 1666.5,-103 1693.5,-103 1693.5,-71 1666.5,-71"/>
<text text-anchor="start" x="1669.5" y="-87.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1695.5,-71 1695.5,-103 2201.5,-103 2201.5,-71 1695.5,-71"/>
<polygon fill="none" stroke="black" points="1695.5,-71 1695.5,-103 2201.5,-103 2201.5,-71 1695.5,-71"/>
<text text-anchor="start" x="1698.14" y="-82.2" font-family="Times,serif" font-size="16.00">Block author can provide minimally&#45;attested candidate with older relay parent</text>
<polygon fill="cornsilk" stroke="transparent" points="1666.5,-37 1666.5,-69 1693.5,-69 1693.5,-37 1666.5,-37"/>
<polygon fill="none" stroke="black" points="1666.5,-37 1666.5,-69 1693.5,-69 1693.5,-37 1666.5,-37"/>
<text text-anchor="start" x="1669.5" y="-53.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1695.5,-37 1695.5,-69 2201.5,-69 2201.5,-37 1695.5,-37"/>
<polygon fill="none" stroke="black" points="1695.5,-37 1695.5,-69 2201.5,-69 2201.5,-37 1695.5,-37"/>
<text text-anchor="start" x="1734.81" y="-48.2" font-family="Times,serif" font-size="16.00">Runtime can accept and process candidates with older relay&#45;parent</text>
<polygon fill="cornsilk" stroke="transparent" points="1666.5,-3 1666.5,-35 1693.5,-35 1693.5,-3 1666.5,-3"/>
<polygon fill="none" stroke="black" points="1666.5,-3 1666.5,-35 1693.5,-35 1693.5,-3 1666.5,-3"/>
<text text-anchor="start" x="1669.5" y="-19.2" font-family="Times,serif" font-size="16.00">ğŸ™‹</text>
<polygon fill="cornsilk" stroke="transparent" points="1695.5,-3 1695.5,-35 2201.5,-35 2201.5,-3 1695.5,-3"/>
<polygon fill="none" stroke="black" points="1695.5,-3 1695.5,-35 2201.5,-35 2201.5,-3 1695.5,-3"/>
<text text-anchor="start" x="1733.23" y="-14.2" font-family="Times,serif" font-size="16.00">Revise availability&#45;store pruning to ensure only needed data is kept</text>
<polygon fill="none" stroke="black" points="1663,0 1663,-164 2204,-164 2204,0 1663,0"/>
</g>
<!-- non&#45;direct&#45;ancestor&#45;&gt;phase&#45;1 -->
<g id="edge6" class="edge">
<title>non&#45;direct&#45;ancestor:all&#45;&gt;phase&#45;1:all</title>
<path fill="none" stroke="black" d="M2202.5,-150C2243.68,-150 2288.93,-164.95 2318.75,-177.01"/>
<polygon fill="black" stroke="black" points="2317.66,-180.35 2328.24,-180.96 2320.35,-173.89 2317.66,-180.35"/>
</g>
<!-- grandpa&#45;voting&#45;rule&#45;&gt;phase&#45;1 -->
<g id="edge7" class="edge">
<title>grandpa&#45;voting&#45;rule:all&#45;&gt;phase&#45;1:all</title>
<path fill="none" stroke="black" d="M2171.5,-336C2250.18,-336 2314.31,-251.36 2339.95,-211.86"/>
<polygon fill="black" stroke="black" points="2342.98,-213.62 2345.37,-203.3 2337.07,-209.88 2342.98,-213.62"/>
</g>
</g>
</svg>
